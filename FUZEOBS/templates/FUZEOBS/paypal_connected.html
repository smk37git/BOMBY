{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PayPal {% if success %}Connected{% else %}Connection Failed{% endif %} - FuzeOBS</title>
    <link rel="icon" type="image/x-icon" href="{% static 'favicon.ico' %}">
    <link rel="stylesheet" href="{% static 'css/fuzeobs_callback.css' %}">
</head>
<body>
    <div class="callback-container">
        {% if success %}
        <div class="callback-icon success">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
                <polyline points="20 6 9 17 4 12"/>
            </svg>
        </div>
        
        <h1 class="callback-title">PayPal Connected!</h1>
        
        <p class="callback-message">Your PayPal account has been successfully linked to FuzeOBS.</p>
        
        <div class="callback-badge">PAYPAL</div>
        
        <p class="callback-hint">This window will close automatically...</p>
        {% else %}
        <div class="callback-icon error">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
                <line x1="18" y1="6" x2="6" y2="18"/>
                <line x1="6" y1="6" x2="18" y2="18"/>
            </svg>
        </div>
        
        <h1 class="callback-title">Connection Failed</h1>
        
        <p class="callback-message">{{ error }}</p>
        
        <div class="callback-badge">PAYPAL</div>
        
        <p class="callback-hint">This window will close automatically...</p>
        {% endif %}
    </div>

    <script>
        setTimeout(function() {
            window.close();
            if (!window.closed) {
                document.querySelector('.callback-hint').textContent = 'You can now close this window and return to FuzeOBS.';
            }
        }, 3000);
    </script>
</body>
</html>