{% extends 'MAIN/base.html' %}
{% load static %}

{% block extra_css %}
    <link rel="stylesheet" href="{% static 'css/portfolio.css' %}">
{% endblock %}

{% block background %}
    {% include 'MAIN/base_background.html' %}
{% endblock %}

{% block content %}
    <header class="portfolio-hero">
        <div class="hero-content">
            <h1 class="main-title">MY PORTFOLIO</h1>
            <p class="subtitle">CODING & PROJECTS</p>
        </div>
        <div class="code-animation-container">
            <div class="code-wrapper">
                <pre class="code-display" id="code-display"></pre>
            </div>
        </div>
    </header>

    <section class="portfolio-intro">
        <div class="section-header">
            <h2 class="section-title">SKILLS & EXPERTISE</h2>
            <div class="section-separator-right"></div>
        </div>
        
        <div class="skills-grid">
            <div class="skill-category" data-aos="fade-up">
                <h3 class="category-title">LANGUAGES</h3>
                <ul class="skill-list">
                    <li>Python</li>
                    <li>JavaScript</li>
                    <li>HTML/CSS</li>
                    <li>SQL</li>
                    <li>C#</li>
                </ul>
            </div>
            
            <div class="skill-category" data-aos="fade-up" data-aos-delay="100">
                <h3 class="category-title">FRAMEWORKS</h3>
                <ul class="skill-list">
                    <li>Django</li>
                    <li>Google Console</li>
                    <li>Google Cloud</li>
                    <li>Cloud Run</li>
                    <li>PostgreSQL</li>
                </ul>
            </div>
            
            <div class="skill-category" data-aos="fade-up" data-aos-delay="200">
                <h3 class="category-title">TOOLS</h3>
                <ul class="skill-list">
                    <li>Git & GitHub</li>
                    <li>Docker</li>
                    <li>AWS</li>
                    <li>VS Code</li>
                    <li>Adobe Creative Suite</li>
                </ul>
            </div>
        </div>
    </section>

    <section class="resume-section">
        <div class="section-header">
            <h2 class="section-title">LETS START WITH MY RESUME</h2>
            <div class="section-separator-right"></div>
        </div>
        
        <div class="resume-container">
            <div class="resume-content">
                <h3>EDUCATION & EXPERIENCE</h3>
                <p>I'm currently pursuing my degree in Information Technology with a focus on programming and system administration.</p>
                <p>Download my full resume to see my education history, work experience, projects, and additional technical skills.</p>
            </div>
            
            <div class="resume-download" data-aos="fade-up">
                <div class="window">
                    <div class="window-header">
                        <div class="window-controls">
                            <div class="control red"></div>
                            <div class="control yellow"></div>
                            <div class="control green"></div>
                        </div>
                        <div class="window-title">resume.pdf</div>
                    </div>
                    <div class="window-content resume-window">
                        <div class="resume-preview">
                            <h3>RESUME DOWNLOAD</h3>
                            <p>Click the button below to download my complete resume</p>
                            <a href="{% static 'pdfs/Online_Resume.pdf' %}" class="download-button" download>DOWNLOAD PDF</a>
                        </div>
                    </div>
                    <div class="window-footer"></div>
                </div>
            </div>
        </div>
    </section>

    <section class="projects-section">
        <div class="section-header">
            <h2 class="section-title">FEATURED PROJECTS</h2>
            <div class="section-separator-right"></div>
        </div>
        
        <div class="project-grid">
            <!-- Project 1 Bomby Website -->
            <div class="project-item" data-aos="fade-up">
                <div class="window">
                    <div class="window-header">
                        <div class="window-controls">
                            <div class="control red"></div>
                            <div class="control yellow"></div>
                            <div class="control green"></div>
                        </div>
                        <div class="window-title">bomby.exe</div>
                    </div>
                    <div class="window-content">
                        <img src="{% static 'images/BOMBY.png' %}" alt="Project 1">
                    </div>
                    <div class="window-footer"></div>
                </div>
                <div class="project-details">
                    <h3 class="project-title">BOMBY WEBSITE</h3>
                    <p class="project-tech">Django / HTML / CSS / JavaScript</p>
                    <p class="project-description">
                        Designed and developed this personal portfolio website and E-Commerce platform with a custom theme. Features responsive design, 
                        animations, and user account management, and secure user payment processing.
                    </p>
                    <div class="project-links">
                        <a href="{% url 'PORTFOLIO:bomby_project' %}" class="project-link">VIEW PROJECT</a>
                        <a href="https://github.com/smk37git/BOMBY" class="project-link">CODE</a>
                    </div>
                </div>
            </div>

            <!-- Project 2 Frat Website -->
            <div class="project-item" data-aos="fade-up" data-aos-delay="100">
                <div class="window">
                    <div class="window-header">
                        <div class="window-controls">
                            <div class="control red"></div>
                            <div class="control yellow"></div>
                            <div class="control green"></div>
                        </div>
                        <div class="window-title">fraternity_website.exe</div>
                    </div>
                    <div class="window-content">
                        <img src="{% static 'images/Fraternity_Project_1.jpg' %}" alt="Project 2">
                    </div>
                    <div class="window-footer"></div>
                </div>
                <div class="project-details">
                    <h3 class="project-title">FRATERNITY WEBSITE</h3>
                    <p class="project-tech">Django / HTML / CSS / JavaScript</p>
                    <p class="project-description">
                        SIGMA PHI DELTA
                        <br></br>

                        Designed my fraternity's new website in a Web Dev team. Our old site was broken and horribly out of date, so we 
                        built the new website from the ground up. It features secure account management, data organization, and a branded theme.
                    </p>
                    <div class="project-links">
                        <a href="{% url 'PORTFOLIO:fraternity_project' %}" class="project-link">VIEW PROJECT</a>
                        <a href="https://github.com/smk37git/SPDWEBAPP_ENV" class="project-link">CODE</a>
                    </div>
                </div>
            </div>

            <!-- Project 3 Github-->
            <div class="project-item" data-aos="fade-up" data-aos-delay="200">
                <div class="window">
                    <div class="window-header">
                        <div class="window-controls">
                            <div class="control red"></div>
                            <div class="control yellow"></div>
                            <div class="control green"></div>
                        </div>
                        <div class="window-title">github_work.exe</div>
                    </div>
                    <div class="window-content">
                        <img src="{% static 'images/GitHub_Project_1.jpg' %}" alt="Project 3">
                    </div>
                    <div class="window-footer"></div>
                </div>
                <div class="project-details">
                    <h3 class="project-title">EXTENSIVE GITHUB REPOSITORIES</h3>
                    <p class="project-tech">Django / HTML / CSS / JavaScript / C# / PYTHON / UNIX</p>
                    <p class="project-description">
                        I feature mutliple projects on my GitHub. From classwork, to homework, to personal
                        projects. 
                    </p>
                    <div class="project-links">
                        <a href="{% url 'PORTFOLIO:github_project' %}" class="project-link">VIEW PAGE</a>
                        <a href="https://github.com/smk37git" class="project-link">VIEW GITHUB</a>
                    </div>
                </div>
            </div>

            <!-- Project 4 College Projects -->
            <div class="project-item" data-aos="fade-up" data-aos-delay="100">
                <div class="window">
                    <div class="window-header">
                        <div class="window-controls">
                            <div class="control red"></div>
                            <div class="control yellow"></div>
                            <div class="control green"></div>
                        </div>
                        <div class="window-title">college_projects.exe</div>
                    </div>
                    <div class="window-content">
                        <img src="{% static 'images/College_Project_Featured.jpg' %}" alt="Project 4">
                    </div>
                    <div class="window-footer"></div>
                </div>
                <div class="project-details">
                    <h3 class="project-title">COLLEGE PROJECTS</h3>
                    <p class="project-tech">ERPs and Networks</p>
                    <p class="project-description">
                        Enterprise Resource Planning (Project Lead)
                        <br></br>
                        Network Security (Project Lead)   
                    </p>
                    <div class="project-links">
                        <a href="{% url 'PORTFOLIO:college_project' %}" class="project-link">VIEW PROJECTS</a>
                    </div>
                </div>
            </div>

            <!-- Project 5 Steam Workshop -->
            <div class="project-item" data-aos="fade-up" data-aos-delay="200">
                <div class="window">
                    <div class="window-header">
                        <div class="window-controls">
                            <div class="control red"></div>
                            <div class="control yellow"></div>
                            <div class="control green"></div>
                        </div>
                        <div class="window-title">steam_workshop.exe</div>
                    </div>
                    <div class="window-content">
                        <img src="{% static 'images/steam_workshop.jpg' %}" alt="Project 3">
                    </div>
                    <div class="window-footer"></div>
                </div>
                <div class="project-details">
                    <h3 class="project-title">STEAM WORKSHOP MODDING</h3>
                    <p class="project-tech">LUA</p>
                    <p class="project-description">
                        I like to mod my games so I can get more immersed in the experience.
                    </p>
                    <div class="project-links">
                        <a href="{% url 'PORTFOLIO:steam_workshop' %}" class="project-link">VIEW PAGE</a>
                        <a href="https://github.com/smk37git/PROJECT-ZOMBOID_10-YEARS-LATER-SURVIVORS-MOD" class="project-link">VIEW GITHUB</a>
                    </div>
                </div>
            </div>

            <!-- Project 6 Stream Setup -->
            <div class="project-item" data-aos="fade-up" data-aos-delay="100">
                <div class="window">
                    <div class="window-header">
                        <div class="window-controls">
                            <div class="control red"></div>
                            <div class="control yellow"></div>
                            <div class="control green"></div>
                        </div>
                        <div class="window-title">stream_setup.exe</div>
                    </div>
                    <div class="window-content"  style="height: 275px;">
                        <img src="{% static 'images/Custom_Setup.jpeg' %}" alt="Project 6">
                    </div>
                    <div class="window-footer"></div>
                </div>
                <div class="project-details">
                    <h3 class="project-title">MY STREAM SETUP</h3>
                    <p class="project-tech">OBS Studio</p>
                    <p class="project-description">
                        Professional Grade Customized / Personalized / Refined Stream Setup
                        <br></br>
                        Designer / Developer
                    </p>
                    <div class="project-links">
                        <a href="{% url 'PORTFOLIO:stream_setup' %}" class="project-link">VIEW SETUP</a>
                        <a href="https://www.twitch.tv/sebe_tv" class="project-link">VIEW LIVE</a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section class="contact-cta">
        <div class="cta-content">
            <h2>INTERESTED IN WORKING TOGETHER?</h2>
            <p>I'm always open to discussing new projects, creative ideas or opportunities to be part of your vision.</p>
            <a href="{% url 'MAIN:contact' %}" class="cta-button">GET IN TOUCH</a>
        </div>
    </section>

    <!-- AOS Section -->
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script>
        AOS.init({
            duration: 800,
            offset: 100,
            once: true
        });
    </script>

    <!-- Bomby Script -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Style the code display like a console without scrollbars
            const codeDisplay = document.getElementById('code-display');
            if (codeDisplay) {
                codeDisplay.style.height = '100%';
                codeDisplay.style.width = '100%';
                codeDisplay.style.overflowY = 'hidden';
                codeDisplay.style.lineHeight = '1.2';
                codeDisplay.style.position = 'relative';
                codeDisplay.style.padding = '15px';
                codeDisplay.style.boxSizing = 'border-box';
                codeDisplay.style.color = '#00ff41';
                codeDisplay.style.textAlign = 'left';
            }
            
            // Keep ASCII art exactly as provided
            const bombArt = `                                                                                                                                                                                                         
                                                                               
                                   #####                                       
                                ##*.   :#%                                     
                              %#+.=####-.##                                    
                             #*:-##   #*.+#                                    
           %   ###         %#- *#     #*.+#                                    
           *#*:*-*.:##   %#+.=##   #####*#####                                 
            =       *# ##+.-*#    ###*******####                               
       ####-        +###-=##     ###**********##                               
         --  ......-:-###%     #####*********######                            
        ##=   .... :--+.    #####***+-:+*********####                          
        #==*        +*###  ###***=     =***********####                        
          ## .=     =    %###**:   .+****************###                       
          ##: *#==*##+  ###***   -*********************##                      
               ##:     ###****-=+**********************###    ###              
                  %#   ###*-  **************************###  #####             
                 ####  ##**  :***************************## #####              
                 ##### ##********************************#######               
                   ######********************************######                
                    %####********************************###                   
                       ###******************************###                    
                       ###*****************************###                     
                        ###****************************##                      
                         %##*************************###                       
                        ######**********************#####                      
                       ##########****************#### #####                    
                      ####     #######******#######    %####                   
                     ####          ############         %###                   
                   #####                                 #####%                
                 %######                                 ######                
                              
                                                                                                `;
            
            const bombyText = `
    ██████   ██████  ███    ███ ██████  ██    ██ 
    ██   ██ ██    ██ ████  ████ ██   ██  ██  ██  
    ██████  ██    ██ ██ ████ ██ ██████    ████   
    ██   ██ ██    ██ ██  ██  ██ ██   ██    ██    
    ██████   ██████  ██      ██ ██████     ██    `;
            
            if (codeDisplay) {
                codeDisplay.textContent = '';
                
                // Sequential commands to type
                const commands = [
                    "> INITIALIZING SYSTEM...",
                    "> LOADING SEBASTIANS PORTFOLIO...",
                    "> ESTABLISHING CONNECTION...",
                    "> CONNECTION ESTABLISHED",
                    "> LAUNCHING BOMBY_PORTFOLIO.EXE..."
                ];
                
                // Type a single character at a time
                function typeText(text, onComplete) {
                    let index = 0;
                    
                    function typeChar() {
                        if (index < text.length) {
                            codeDisplay.textContent += text.charAt(index);
                            index++;
                            setTimeout(typeChar, 30);
                        } else if (onComplete) {
                            onComplete();
                        }
                    }
                    
                    typeChar();
                }
                
                // Type each command in sequence
                function runCommands(commandIndex) {
                    if (commandIndex >= commands.length) {
                        // After typing all commands, print the bomb art line by line
                        setTimeout(() => {
                            // Clear the display
                            codeDisplay.textContent = '';
                            
                            // For mobile screens, use different positioning
                            const isMobile = window.innerWidth <= 768;
                            const isDesktop = window.innerWidth >= 1440;
                            
                            // Create separate containers for the bomb art and text
                            const mainContainer = document.createElement('div');
                            mainContainer.style.position = 'absolute';
                            mainContainer.style.bottom = '0';
                            mainContainer.style.left = '0';
                            mainContainer.style.width = '100%';
                            mainContainer.style.height = '100%';
                            mainContainer.style.display = 'flex';
                            mainContainer.style.flexDirection = 'column';
                            mainContainer.style.justifyContent = 'flex-end';
                            mainContainer.style.alignItems = 'center';
                            mainContainer.style.bottom = isMobile ? '5%' : '-3%';
                            
                            codeDisplay.appendChild(mainContainer);
                            
                            // Container for the bomb ASCII art
                            const bombContainer = document.createElement('div');
                            bombContainer.style.width = '100%';
                            bombContainer.style.textAlign = 'center';
                            
                            // Only apply translation to the bomb art on desktop
                            if (isDesktop) {
                                bombContainer.style.transform = 'translateX(-10%)';
                            }
                            
                            mainContainer.appendChild(bombContainer);
                            
                            // Create element for the ASCII art bomb
                            const bombElement = document.createElement('pre');
                            bombElement.style.fontFamily = 'monospace';
                            bombElement.style.fontSize = isMobile ? '0.4rem' : (isDesktop ? '0.9rem' : '0.5rem');
                            bombElement.style.lineHeight = '.9';
                            bombElement.style.margin = '0 auto';
                            bombElement.style.marginBottom = isDesktop ? '-10px' : '0px'
                            bombElement.style.padding = '0';
                            bombElement.style.whiteSpace = 'pre';
                            bombElement.style.color = '#00ff41';
                            bombElement.style.textAlign = 'center';
                            bombElement.style.maxWidth = '100%';
                            
                            bombContainer.appendChild(bombElement);
                            
                            // Container for BOMBY text (centered without translation)
                            const textContainer = document.createElement('div');
                            textContainer.style.width = '100%';
                            textContainer.style.textAlign = 'center';
                            textContainer.style.marginTop = '1px';
                            mainContainer.appendChild(textContainer);
                            
                            // Element for BOMBY text
                            const bombyElement = document.createElement('pre');
                            bombyElement.style.fontFamily = 'monospace';
                            bombyElement.style.fontSize = isMobile ? '0.7rem' : (isDesktop ? '0.9rem' : '0.9rem');
                            bombyElement.style.lineHeight = '1';
                            bombyElement.style.margin = '0 auto';
                            bombyElement.style.padding = '0';
                            bombyElement.style.whiteSpace = 'pre';
                            bombyElement.style.color = '#00ff41';
                            bombyElement.style.textAlign = 'center';
                            textContainer.appendChild(bombyElement);
                            
                            // Container for "PORTFOLIO READY" text
                            const readyTextContainer = document.createElement('div');
                            readyTextContainer.style.width = '100%';
                            readyTextContainer.style.textAlign = 'center';
                            readyTextContainer.style.marginTop = isMobile ? '5px' : '10px';
                            mainContainer.appendChild(readyTextContainer);
                            
                            // Split the bomb art by lines
                            const lines = bombArt.split('\n');
                            let lineCount = 0;
                            
                            // Add line by line with a typewriter effect
                            function printLine() {
                                if (lineCount < lines.length) {
                                    if (lineCount === 0) {
                                        bombElement.textContent = lines[lineCount];
                                    } else {
                                        bombElement.textContent += '\n' + lines[lineCount];
                                    }
                                    lineCount++;
                                    setTimeout(printLine, 30);
                                } else {
                                    // When bomb art is complete, add BOMBY text
                                    setTimeout(() => {
                                        bombyElement.textContent = bombyText;
                                        
                                        // Add "PORTFOLIO READY" text when the BOMBY text is added
                                        setTimeout(() => {
                                            readyTextContainer.textContent = "PORTFOLIO READY";
                                            readyTextContainer.style.fontSize = isMobile ? '1.2rem' : '1.5rem';
                                            readyTextContainer.style.color = '#00ff41';
                                            readyTextContainer.style.position = 'relative';
                                            readyTextContainer.style.paddingBottom = '10px';
                                        }, 300);
                                    }, 300);
                                }
                            }
                            
                            // Start printing lines
                            printLine();
                        }, 500);
                        return;
                    }
                    
                    // Type the current command
                    typeText(commands[commandIndex], () => {
                        // Add a line break
                        codeDisplay.textContent += "\n";
                        
                        // Move to the next command after a delay
                        setTimeout(() => {
                            runCommands(commandIndex + 1);
                        }, 400);
                    });
                }
                
                // Start the sequence after a small delay
                setTimeout(() => {
                    runCommands(0);
                }, 500);
                
                // Handle window resize
                window.addEventListener('resize', () => {
                    const isMobile = window.innerWidth <= 768;
                    const isDesktop = window.innerWidth >= 1440;
                    const bombElements = document.querySelectorAll('#code-display pre');
                    const readyText = document.querySelector('#code-display div div div');
                    
                    if (bombElements.length > 0) {
                        // First pre is the bomb art
                        if (bombElements[0]) {
                            bombElements[0].style.fontSize = isMobile ? '0.4rem' : (isDesktop ? '0.9rem' : '0.5rem');
                        }
                        
                        // Second pre is the BOMBY text
                        if (bombElements[1]) {
                            bombElements[1].style.fontSize = isMobile ? '0.7rem' : (isDesktop ? '1.3rem' : '0.9rem');
                        }
                    }
                    
                    // Adjust the translation based on screen width
                    const bombContainer = document.querySelector('#code-display > div > div:first-child');
                    if (bombContainer) {
                        bombContainer.style.transform = isDesktop ? 'translateX(-11%)' : 'none';
                    }
                    
                    if (readyText) {
                        readyText.style.fontSize = isMobile ? '1rem' : '1.5rem';
                    }
                });
            }
        });
    </script>
{% endblock %}